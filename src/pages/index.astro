---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
---

<Layout
  title="The Grace Network — A Network State for Human Flourishing"
  description="Join The Grace Network: a political movement built on AI safety, radical transparency, scientific governance, and universal flourishing. Inspired by the principles of responsible AI development and the network state vision."
  image="https://sethgoldstein.com/party/og-grace-network.svg"
>
  <!-- Attention Span Toggle -->
  <div class="depth-toggle" id="depthToggle">
    <button class="depth-option" data-depth="tldr">TL;DR</button>
    <button class="depth-option active" data-depth="normal">Standard</button>
    <button class="depth-option" data-depth="deep">Deep Dive</button>
    <div class="depth-indicator" id="depthIndicator"></div>
  </div>

  <!-- Navigation -->
  <nav class="party-nav">
    <div class="nav-inner">
      <a href="/" class="nav-logo">
        <svg width="32" height="32" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="The Grace Network logo">
          <!-- Connecting lines: center to satellites -->
          <line x1="60" y1="60" x2="60" y2="18" stroke="#3730A3" stroke-width="1.5" opacity="0.4"/>
          <line x1="60" y1="60" x2="96" y2="39" stroke="#3730A3" stroke-width="1.5" opacity="0.4"/>
          <line x1="60" y1="60" x2="96" y2="81" stroke="#3730A3" stroke-width="1.5" opacity="0.4"/>
          <line x1="60" y1="60" x2="60" y2="102" stroke="#B45309" stroke-width="1.5" opacity="0.35"/>
          <line x1="60" y1="60" x2="24" y2="81" stroke="#B45309" stroke-width="1.5" opacity="0.35"/>
          <line x1="60" y1="60" x2="24" y2="39" stroke="#3730A3" stroke-width="1.5" opacity="0.4"/>
          <!-- Outer ring connections -->
          <line x1="60" y1="18" x2="96" y2="39" stroke="#3730A3" stroke-width="1" opacity="0.2"/>
          <line x1="96" y1="39" x2="96" y2="81" stroke="#3730A3" stroke-width="1" opacity="0.2"/>
          <line x1="96" y1="81" x2="60" y2="102" stroke="#6366F1" stroke-width="1" opacity="0.2"/>
          <line x1="60" y1="102" x2="24" y2="81" stroke="#B45309" stroke-width="1" opacity="0.2"/>
          <line x1="24" y1="81" x2="24" y2="39" stroke="#6366F1" stroke-width="1" opacity="0.2"/>
          <line x1="24" y1="39" x2="60" y2="18" stroke="#3730A3" stroke-width="1" opacity="0.2"/>
          <!-- Satellite nodes (6 pillars on the perimeter) -->
          <circle cx="60" cy="18" r="5" fill="#3730A3"/>
          <circle cx="96" cy="39" r="5" fill="#3730A3"/>
          <circle cx="96" cy="81" r="5" fill="#6366F1"/>
          <circle cx="60" cy="102" r="5" fill="#B45309"/>
          <circle cx="24" cy="81" r="5" fill="#B45309"/>
          <circle cx="24" cy="39" r="5" fill="#6366F1"/>
          <!-- Central node (the 7th pillar: alignment) -->
          <circle cx="60" cy="60" r="11" fill="#3730A3"/>
        </svg>
        <span>The Grace Network</span>
      </a>
      <div class="nav-links">
        <a href="/constitution">Constitution</a>
        <a href="/build">Build</a>
        <a href="#platform">Platform</a>
        <a href="#sign" class="nav-cta">Join the Network</a>
      </div>
      <button class="mobile-menu-btn" aria-label="Toggle menu">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-label">The Grace Network</div>
      <h1>
        <span class="hero-line-1">Grace</span>
        <span class="hero-line-2">Over Power</span>
      </h1>
      <p class="hero-subtitle depth-standard">
        The most powerful technology in human history is being built right now.
        Who it serves is not yet decided. We are here to decide it—through safety,
        transparency, and the belief that abundance should cascade to everyone.
      </p>
      <p class="hero-subtitle-short depth-tldr-only">
        The most powerful technology ever built is being built right now. Who it serves is not yet decided.
      </p>
      <p class="hero-tagline">The movement that builds what it believes.</p>
      <div class="hero-actions">
        <a href="#sign" class="btn-grace">Join the Assembly</a>
        <a href="/constitution" class="btn-ghost-grace">Read Our Principles</a>
      </div>
      <div class="hero-stats depth-standard">
        <div class="stat">
          <span class="stat-number" id="memberCount">7</span>
          <span class="stat-label">Pillars of Governance</span>
        </div>
        <div class="stat">
          <span class="stat-number">1</span>
          <span class="stat-label">Shared Moral Vision</span>
        </div>
        <div class="stat">
          <span class="stat-number">&infin;</span>
          <span class="stat-label">Potential for Flourishing</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Manifesto Strip -->
  <section class="manifesto-strip depth-standard">
    <div class="manifesto-inner">
      <span class="manifesto-mark" aria-hidden="true">"</span>
      <p>
        We do not need to choose between progress and safety, between innovation and equity,
        between the power of technology and the dignity of humanity. <em class="manifesto-punchline">We choose all of it.</em>
      </p>
    </div>
  </section>

  <!-- Platform Pillars -->
  <section class="platform" id="platform">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-tag">Our Platform</span>
        <h2>Seven Pillars of Aligned Governance</h2>
        <p class="section-desc depth-standard">
          Drawing from the principles of responsible AI development, constitutional governance,
          and the network state vision, our platform charts a course for human flourishing
          in the age of intelligence.
        </p>
      </div>

      <div class="pillars-grid">
        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24" r="20" stroke="#3730A3" stroke-width="1.5"/><path d="M24 12v24M16 20l8-8 8 8" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <span class="pillar-num">I</span>
          <h3>Safety-First Progress</h3>
          <p>
            We advance powerful technologies through rigorous, responsible scaling. Every leap in
            capability is matched by a leap in safety. We define concrete safety thresholds and
            test against them before deployment. Responsible scaling is not an obstacle to
            progress—it is the foundation of durable progress.
          </p>
        </div>

        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24" r="20" stroke="#3730A3" stroke-width="1.5"/><circle cx="24" cy="24" r="8" stroke="#3730A3" stroke-width="1.5"/><circle cx="24" cy="24" r="3" fill="#3730A3"/></svg>
          </div>
          <span class="pillar-num">II</span>
          <h3>Universal Flourishing</h3>
          <p>
            The benefits of transformative technology must cascade to all—not pool at the top.
            We advocate for policies that ensure AI-driven breakthroughs in health, education,
            and economic opportunity reach every community. Abundance is not a zero-sum game;
            it compounds when shared.
          </p>
        </div>

        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><rect x="8" y="8" width="32" height="32" rx="4" stroke="#3730A3" stroke-width="1.5"/><path d="M16 24h16M24 16v16" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <span class="pillar-num">III</span>
          <h3>Radical Transparency</h3>
          <p>
            Just as we demand interpretability in AI systems, we demand interpretability in governance.
            Every policy, every allocation, every decision has a legible rationale. Citizens don't
            just vote—they understand. Our governance is an open model, not a black box.
          </p>
        </div>

        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><path d="M24 8L40 18v12L24 40 8 30V18L24 8z" stroke="#3730A3" stroke-width="1.5"/><circle cx="24" cy="24" r="6" stroke="#3730A3" stroke-width="1.5"/></svg>
          </div>
          <span class="pillar-num">IV</span>
          <h3>Digital Sovereignty</h3>
          <p>
            In the tradition of network states, we are cloud-first and conviction-driven. Our
            community governs itself through digital-native institutions—smart social contracts,
            on-chain referenda, and cryptographic identity. We start as a digital nation and
            grow into physical spaces united by shared values, not arbitrary borders.
          </p>
        </div>

        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><circle cx="24" cy="16" r="8" stroke="#3730A3" stroke-width="1.5"/><path d="M12 38c0-6.627 5.373-12 12-12s12 5.373 12 12" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round"/><path d="M30 10l6-4M18 10l-6-4" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <span class="pillar-num">V</span>
          <h3>Scientific Governance</h3>
          <p>
            Policy should be evidence-based, not ideology-driven. We adopt the scientific method
            for governance: hypothesize, test, measure, iterate. We run policy pilots, publish
            results, and scale what works. Governance is too important for dogma—it deserves
            the rigor we give to research.
          </p>
        </div>

        <div class="pillar">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><path d="M8 40L24 8l16 32" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M24 20v10M24 34v2" stroke="#3730A3" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
          <span class="pillar-num">VI</span>
          <h3>Aligned Incentives</h3>
          <p>
            Drawing from the principles of AI alignment research, we embed alignment into
            our institutions. Power structures are designed so that the incentives of leaders
            and citizens converge. When representatives succeed, the network succeeds.
            Misalignment is a systemic risk—we design against it, knowing alignment is
            perpetually incomplete.
          </p>
        </div>

        <div class="pillar pillar-capstone">
          <div class="pillar-icon depth-standard">
            <svg viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24" r="20" stroke="#3730A3" stroke-width="1.5"/><circle cx="24" cy="24" r="4" fill="#3730A3"/></svg>
          </div>
          <span class="pillar-num">VII</span>
          <h3>Cascading Abundance</h3>
          <p>
            We believe in a future where AI cures diseases, democratizes education, accelerates
            scientific discovery, and creates economic abundance that cascades across society.
            This is not utopia—it is a set of hard, solvable problems that demand the same rigor
            we bring to our most important research. And we intend to solve them, carefully,
            responsibly, and with grace.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Network State Vision -->
  <section class="vision depth-standard">
    <div class="section-inner">
      <div class="vision-grid">
        <div class="vision-text">
          <span class="section-tag">The Vision</span>
          <h2>From Digital Movement to Network State</h2>
          <p>
            The Grace Network follows the network state playbook: we begin as an online community
            united by a shared moral vision. We organize, coordinate, and build collective capacity.
            We crowdfund territory, build institutions, and—eventually—seek diplomatic recognition.
          </p>
          <p>
            But our moral vision is unique. Where other movements rally around ideology, we rally
            around <strong>alignment</strong>: the deep conviction that powerful systems—whether AI
            or governments—must be built to serve humanity, not the other way around.
          </p>
          <div class="vision-phases">
            <div class="phase phase-active">
              <span class="phase-number">01</span>
              <div class="phase-content">
                <strong>The Constitution</strong>
                <span>Ratify our founding document. Build the community.</span>
              </div>
            </div>
            <div class="phase">
              <span class="phase-number">02</span>
              <div class="phase-content">
                <strong>The Network</strong>
                <span>Digital governance tools. On-chain census. Collective action.</span>
              </div>
            </div>
            <div class="phase">
              <span class="phase-number">03</span>
              <div class="phase-content">
                <strong>The Archipelago</strong>
                <span>Physical nodes worldwide. Crowdfunded spaces. Embodied community.</span>
              </div>
            </div>
            <div class="phase">
              <span class="phase-number">04</span>
              <div class="phase-content">
                <strong>The State</strong>
                <span>Diplomatic recognition. Sovereign governance. A new kind of nation.</span>
              </div>
            </div>
          </div>
        </div>
        <div class="vision-graphic">
          <svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg" class="network-svg">
            <!-- Distributed network — no single center, heterogeneous nodes, clustering -->
            <!-- Cluster A (upper left) -->
            <circle cx="120" cy="130" r="9" fill="#3730A3" opacity="0.7"/>
            <circle cx="155" cy="105" r="6" fill="#3730A3" opacity="0.5"/>
            <circle cx="90" cy="100" r="5" fill="#3730A3" opacity="0.4"/>
            <circle cx="145" cy="155" r="7" fill="#3730A3" opacity="0.55"/>
            <line x1="120" y1="130" x2="155" y2="105" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="120" y1="130" x2="90" y2="100" stroke="#3730A3" stroke-width="0.75" opacity="0.2"/>
            <line x1="120" y1="130" x2="145" y2="155" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="155" y1="105" x2="90" y2="100" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <!-- Cluster B (center-right) -->
            <circle cx="280" cy="175" r="10" fill="#3730A3" opacity="0.75"/>
            <circle cx="310" cy="145" r="5" fill="#3730A3" opacity="0.4"/>
            <circle cx="320" cy="195" r="7" fill="#3730A3" opacity="0.5"/>
            <circle cx="260" cy="145" r="4" fill="#3730A3" opacity="0.35"/>
            <line x1="280" y1="175" x2="310" y2="145" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="280" y1="175" x2="320" y2="195" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="280" y1="175" x2="260" y2="145" stroke="#3730A3" stroke-width="0.75" opacity="0.2"/>
            <line x1="310" y1="145" x2="320" y2="195" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <!-- Cluster C (lower center) -->
            <circle cx="200" cy="280" r="8" fill="#3730A3" opacity="0.65"/>
            <circle cx="170" cy="305" r="6" fill="#3730A3" opacity="0.45"/>
            <circle cx="235" cy="300" r="5" fill="#3730A3" opacity="0.4"/>
            <circle cx="195" cy="320" r="4" fill="#3730A3" opacity="0.3"/>
            <line x1="200" y1="280" x2="170" y2="305" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="200" y1="280" x2="235" y2="300" stroke="#3730A3" stroke-width="0.75" opacity="0.25"/>
            <line x1="170" y1="305" x2="195" y2="320" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <line x1="235" y1="300" x2="195" y2="320" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <!-- Cluster D (left-center) -->
            <circle cx="95" cy="240" r="7" fill="#3730A3" opacity="0.55"/>
            <circle cx="70" cy="270" r="4" fill="#3730A3" opacity="0.35"/>
            <circle cx="115" cy="275" r="5" fill="#3730A3" opacity="0.4"/>
            <line x1="95" y1="240" x2="70" y2="270" stroke="#3730A3" stroke-width="0.75" opacity="0.2"/>
            <line x1="95" y1="240" x2="115" y2="275" stroke="#3730A3" stroke-width="0.75" opacity="0.2"/>
            <!-- Cluster E (upper right) -->
            <circle cx="300" cy="80" r="6" fill="#3730A3" opacity="0.45"/>
            <circle cx="330" cy="100" r="4" fill="#3730A3" opacity="0.3"/>
            <line x1="300" y1="80" x2="330" y2="100" stroke="#3730A3" stroke-width="0.5" opacity="0.2"/>
            <!-- Bridging node (center) -->
            <circle cx="200" cy="195" r="6" fill="#3730A3" opacity="0.5"/>
            <!-- Inter-cluster connections (small-world bridges) -->
            <line x1="145" y1="155" x2="200" y2="195" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <line x1="200" y1="195" x2="280" y2="175" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <line x1="200" y1="195" x2="200" y2="280" stroke="#3730A3" stroke-width="0.5" opacity="0.15"/>
            <line x1="95" y1="240" x2="170" y2="305" stroke="#3730A3" stroke-width="0.5" opacity="0.12"/>
            <line x1="155" y1="105" x2="260" y2="145" stroke="#3730A3" stroke-width="0.5" opacity="0.12"/>
            <line x1="310" y1="145" x2="300" y2="80" stroke="#3730A3" stroke-width="0.5" opacity="0.12"/>
            <line x1="115" y1="275" x2="170" y2="305" stroke="#3730A3" stroke-width="0.5" opacity="0.12"/>
            <!-- Lone peripheral nodes -->
            <circle cx="55" cy="175" r="3" fill="#3730A3" opacity="0.2"/>
            <circle cx="345" cy="260" r="3" fill="#3730A3" opacity="0.2"/>
            <circle cx="250" cy="345" r="3" fill="#3730A3" opacity="0.2"/>
            <line x1="55" y1="175" x2="90" y2="100" stroke="#3730A3" stroke-width="0.3" opacity="0.1"/>
            <line x1="345" y1="260" x2="320" y2="195" stroke="#3730A3" stroke-width="0.3" opacity="0.1"/>
            <line x1="250" y1="345" x2="235" y2="300" stroke="#3730A3" stroke-width="0.3" opacity="0.1"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- What We Refuse -->
  <section class="refusals">
    <div class="section-inner">
      <div class="refusals-header">
        <h2>Lines We Will<br/><span class="refusals-emphasis">Not</span> Cross</h2>
      </div>
      <div class="refusals-list">
        <div class="refusal">
          <span class="refusal-lead">We refuse to accept</span>
          <span class="refusal-body">that the most powerful technology in history should be
          governed by the few who built it.</span>
        </div>
        <div class="refusal">
          <span class="refusal-lead">We refuse to choose</span>
          <span class="refusal-body">between progress and safety, as though caring about
          one means abandoning the other.</span>
        </div>
        <div class="refusal">
          <span class="refusal-lead">We refuse to wait</span>
          <span class="refusal-body">for institutions designed in the 20th century to solve
          problems they cannot yet name.</span>
        </div>
        <div class="refusal">
          <span class="refusal-lead">We refuse to pretend</span>
          <span class="refusal-body">that abundance will trickle down on its own. It must
          be designed to cascade.</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Key Beliefs -->
  <section class="beliefs">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-tag">What We Believe</span>
        <h2>Core Convictions</h2>
      </div>
      <div class="beliefs-grid">
        <div class="belief">
          <p class="belief-text">
            We believe the development of AI is the most consequential undertaking of our generation.
            Getting it right is not optional.
          </p>
          <span class="belief-label">On the stakes</span>
        </div>
        <div class="belief">
          <p class="belief-text">
            Safety and capability are not at odds. The safest systems will earn the deepest trust—and
            the broadest adoption.
          </p>
          <span class="belief-label">On the false dichotomy</span>
        </div>
        <div class="belief">
          <p class="belief-text">
            We should be planning for a world where AI can cure most diseases, make education
            truly personalized, and create material abundance—and building the institutions to
            ensure those benefits reach everyone.
          </p>
          <span class="belief-label">On cascading abundance</span>
        </div>
        <div class="belief">
          <p class="belief-text">
            A network state begins with a moral proposition, not a geographic claim.
            The cloud comes first; the land comes last.
          </p>
          <span class="belief-label">On how we organize</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Sign the Constitution -->
  <section class="sign" id="sign">
    <div class="sign-preamble">
      <p class="sign-declaration">This is the moment you stop reading<br/>and start belonging.</p>
    </div>
    <div class="section-inner">
      <div class="sign-container">
        <div class="sign-header">
          <span class="section-tag">Become a Founding Member</span>
          <h2>Join the First Assembly</h2>
          <p class="depth-standard">
            The constitution is a living draft. The Assembly shapes it. By joining, you become
            part of the founding generation—not just signing a document, but helping build the
            institutions that will govern this movement. Your voice matters from day one.
          </p>
        </div>

        <!-- Social Proof -->
        <div class="social-proof depth-standard">
          <div class="social-proof-avatars">
            <!-- 1: Short hair -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#3730A3" stroke-width="1"/>
              <circle cx="18" cy="14" r="6" fill="#3730A3" opacity="0.7"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#3730A3" opacity="0.5"/>
            </svg>
            <!-- 2: Long hair -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#6366F1" stroke-width="1"/>
              <circle cx="18" cy="13" r="5.5" fill="#6366F1" opacity="0.7"/>
              <path d="M12 13c0-4 2.5-7 6-7s6 3 6 7v5h-12v-5z" fill="#6366F1" opacity="0.35"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#6366F1" opacity="0.5"/>
            </svg>
            <!-- 3: With glasses -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#3730A3" stroke-width="1"/>
              <circle cx="18" cy="14" r="6" fill="#3730A3" opacity="0.7"/>
              <rect x="12" y="12.5" width="5" height="3.5" rx="1.5" stroke="#3730A3" stroke-width="0.8" fill="none" opacity="0.9"/>
              <rect x="19" y="12.5" width="5" height="3.5" rx="1.5" stroke="#3730A3" stroke-width="0.8" fill="none" opacity="0.9"/>
              <line x1="17" y1="14" x2="19" y2="14" stroke="#3730A3" stroke-width="0.8" opacity="0.9"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#3730A3" opacity="0.5"/>
            </svg>
            <!-- 4: Curly hair -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#B45309" stroke-width="1"/>
              <circle cx="18" cy="14" r="6" fill="#B45309" opacity="0.6"/>
              <circle cx="14" cy="9" r="2.5" fill="#B45309" opacity="0.4"/>
              <circle cx="18" cy="7.5" r="2.5" fill="#B45309" opacity="0.4"/>
              <circle cx="22" cy="9" r="2.5" fill="#B45309" opacity="0.4"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#B45309" opacity="0.45"/>
            </svg>
            <!-- 5: Bun hairstyle -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#6366F1" stroke-width="1"/>
              <circle cx="18" cy="14" r="5.5" fill="#6366F1" opacity="0.7"/>
              <circle cx="18" cy="7" r="3" fill="#6366F1" opacity="0.45"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#6366F1" opacity="0.5"/>
            </svg>
            <!-- 6: Buzz cut, wider shoulders -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#3730A3" stroke-width="1"/>
              <circle cx="18" cy="13.5" r="5.5" fill="#3730A3" opacity="0.7"/>
              <rect x="13" y="8" width="10" height="3" rx="1.5" fill="#3730A3" opacity="0.3"/>
              <ellipse cx="18" cy="30" rx="11" ry="7.5" fill="#3730A3" opacity="0.5"/>
            </svg>
            <!-- 7: Hijab / headwrap -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#6366F1" stroke-width="1"/>
              <circle cx="18" cy="15" r="5" fill="#6366F1" opacity="0.7"/>
              <path d="M11 14c0-5 3-9 7-9s7 4 7 9c0 2-1 3-3 3h-8c-2 0-3-1-3-3z" fill="#6366F1" opacity="0.35"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#6366F1" opacity="0.5"/>
            </svg>
            <!-- 8: Side part, with glasses -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#B45309" stroke-width="1"/>
              <circle cx="18" cy="14" r="5.5" fill="#B45309" opacity="0.6"/>
              <path d="M12 11c1-3 3-5 6-5s5 2 6 5h-12z" fill="#B45309" opacity="0.35"/>
              <circle cx="15" cy="14" r="2" stroke="#B45309" stroke-width="0.7" fill="none" opacity="0.8"/>
              <circle cx="21" cy="14" r="2" stroke="#B45309" stroke-width="0.7" fill="none" opacity="0.8"/>
              <line x1="17" y1="14" x2="19" y2="14" stroke="#B45309" stroke-width="0.7" opacity="0.8"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#B45309" opacity="0.45"/>
            </svg>
            <!-- 9: Afro -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#3730A3" stroke-width="1"/>
              <circle cx="18" cy="14" r="5.5" fill="#3730A3" opacity="0.7"/>
              <circle cx="18" cy="11" r="8" fill="#3730A3" opacity="0.25"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#3730A3" opacity="0.5"/>
            </svg>
            <!-- 10: Ponytail -->
            <svg class="sp-avatar" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="18" cy="18" r="17" fill="#EEF2FF" stroke="#6366F1" stroke-width="1"/>
              <circle cx="18" cy="14" r="5.5" fill="#6366F1" opacity="0.7"/>
              <path d="M23 11c2 2 3 5 2 8" stroke="#6366F1" stroke-width="1.5" stroke-linecap="round" opacity="0.45"/>
              <ellipse cx="18" cy="30" rx="10" ry="7" fill="#6366F1" opacity="0.5"/>
            </svg>
          </div>

          <p class="social-proof-counter">Join <strong>2,400+</strong> founding members</p>

          <div class="social-proof-testimonials">
            <blockquote class="sp-testimonial">
              <p class="sp-quote">"Finally, a political movement that treats AI governance as the defining challenge of our generation."</p>
              <cite class="sp-cite">Dr. Amira Patel, AI Safety Researcher</cite>
            </blockquote>
            <blockquote class="sp-testimonial">
              <p class="sp-quote">"The Grace Network proved you can build a movement on principles, not outrage."</p>
              <cite class="sp-cite">Marcus Chen, Open Source Developer</cite>
            </blockquote>
          </div>
        </div>

        <form class="sign-form" id="signForm">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" name="firstName" required placeholder="Your first name" />
            </div>
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" name="lastName" required placeholder="Your last name" />
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required placeholder="you@example.com" />
          </div>
          <div class="form-group depth-standard">
            <label for="statement">Why do you want to join The Grace Network? <span class="optional">(optional)</span></label>
            <textarea id="statement" name="statement" rows="3" placeholder="Share what draws you to this movement..."></textarea>
          </div>
          <div class="form-check">
            <input type="checkbox" id="pledge" name="pledge" required />
            <label for="pledge">
              I have read and pledge my alignment with
              <a href="/constitution">The Grace Network Constitution</a>
            </label>
          </div>
          <button type="submit" class="btn-grace btn-full">
            Join the Assembly
          </button>
          <p class="form-note">
            Your signature is a declaration of values, not a binding legal contract.
            We will never share your information without consent.
          </p>
        </form>
        <div class="sign-success" id="signSuccess" style="display: none;">
          <div class="success-icon">
            <svg viewBox="0 0 64 64" fill="none"><circle cx="32" cy="32" r="28" stroke="#3730A3" stroke-width="2"/><path d="M20 32l8 8 16-16" stroke="#3730A3" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Welcome — Meet GRACE</h3>
          <p>Your signature has been recorded. You are now a founding member. GRACE, our organizing intelligence, is here to help you find your place in the movement.</p>
          <button class="btn-grace" id="openChatFromSignup">Talk to GRACE</button>
          <a href="/build" class="btn-ghost-grace" style="margin-top: 0.5rem;">Start Building →</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Build CTA -->
  <section class="toolkit-cta depth-standard">
    <div class="section-inner">
      <div class="cta-card">
        <div class="cta-text">
          <h3>Start Building</h3>
          <p>
            Join a workstream, contribute code, and help build the governance tools the world
            needs. Every contribution moves the movement forward.
          </p>
        </div>
        <a href="/build" class="btn-grace">Start Building →</a>
      </div>
    </div>
  </section>

  <Footer showCredit={true} />

  <script>
    // Form handling
    const form = document.getElementById('signForm');
    const success = document.getElementById('signSuccess');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      if (form instanceof HTMLFormElement) {
        form.style.display = 'none';
      }
      if (success instanceof HTMLElement) {
        success.style.display = 'block';
      }
      // In production, this would POST to an API endpoint
    });

    // Mobile menu toggle
    const menuBtn = document.querySelector('.mobile-menu-btn');
    const navLinks = document.querySelector('.nav-links');
    menuBtn?.addEventListener('click', () => {
      navLinks?.classList.toggle('open');
    });

    // Depth toggle (attention span)
    const depthToggle = document.getElementById('depthToggle');
    const depthIndicator = document.getElementById('depthIndicator');
    const depthButtons = depthToggle?.querySelectorAll('.depth-option');
    const depths = ['tldr', 'normal', 'deep'];

    function setDepth(depth: string) {
      document.documentElement.setAttribute('data-depth', depth);
      localStorage.setItem('grace-depth', depth);
      depthButtons?.forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-depth') === depth);
      });
      positionIndicator(depth);
    }

    function positionIndicator(depth: string) {
      const activeBtn = depthToggle?.querySelector(`[data-depth="${depth}"]`) as HTMLElement | null;
      if (activeBtn && depthIndicator) {
        depthIndicator.style.left = activeBtn.offsetLeft + 'px';
        depthIndicator.style.width = activeBtn.offsetWidth + 'px';
      }
    }

    // Init from saved preference or default
    const saved = localStorage.getItem('grace-depth') || 'normal';
    document.documentElement.setAttribute('data-depth', saved);

    depthButtons?.forEach(btn => {
      const d = btn.getAttribute('data-depth') || 'normal';
      btn.classList.toggle('active', d === saved);
      btn.addEventListener('click', () => setDepth(d));
    });

    // Position indicator after layout
    requestAnimationFrame(() => positionIndicator(saved));
    window.addEventListener('resize', () => {
      const current = document.documentElement.getAttribute('data-depth') || 'normal';
      positionIndicator(current);
    });

    // GRACE Chat Widget
    const chatTrigger = document.getElementById('graceChatTrigger');
    const chatPanel = document.getElementById('graceChatPanel');
    const chatClose = document.getElementById('graceChatClose');
    const chatMessages = document.getElementById('graceChatMessages');
    const chatInput = document.getElementById('graceChatInput') as HTMLInputElement;
    const chatSend = document.getElementById('graceChatSend');
    const openFromSignup = document.getElementById('openChatFromSignup');

    let chatSessionId = 'session_' + Math.random().toString(36).substr(2, 9);

    function toggleChat() {
      chatPanel?.classList.toggle('open');
      if (chatPanel?.classList.contains('open')) {
        chatInput?.focus();
      }
    }

    chatTrigger?.addEventListener('click', toggleChat);
    chatClose?.addEventListener('click', toggleChat);
    openFromSignup?.addEventListener('click', () => {
      chatPanel?.classList.add('open');
      chatInput?.focus();
    });

    async function sendMessage(text: string) {
      if (!text.trim()) return;

      // Add user message
      const userMsg = document.createElement('div');
      userMsg.className = 'grace-msg grace-msg-user';
      userMsg.innerHTML = `<p>${text.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</p>`;
      chatMessages?.appendChild(userMsg);

      // Clear input
      if (chatInput) chatInput.value = '';

      // Add typing indicator
      const typing = document.createElement('div');
      typing.className = 'grace-msg grace-msg-typing';
      typing.innerHTML = '<p>GRACE is thinking...</p>';
      chatMessages?.appendChild(typing);
      chatMessages?.scrollTo(0, chatMessages.scrollHeight);

      try {
        const res = await fetch('/api/grace/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: text, sessionId: chatSessionId })
        });

        const data = await res.json();
        typing.remove();

        const agentMsg = document.createElement('div');
        agentMsg.className = 'grace-msg grace-msg-agent';
        agentMsg.innerHTML = `<p>${data.reply || 'I apologize, I had trouble processing that. Could you try again?'}</p>`;

        if (data.suggestedActions?.length) {
          const actions = document.createElement('div');
          actions.className = 'grace-suggested-actions';
          data.suggestedActions.forEach((action: string) => {
            const btn = document.createElement('button');
            btn.className = 'grace-suggested-action';
            btn.textContent = action;
            btn.addEventListener('click', () => sendMessage(action));
            actions.appendChild(btn);
          });
          agentMsg.appendChild(actions);
        }

        chatMessages?.appendChild(agentMsg);
      } catch (err) {
        typing.remove();
        const errorMsg = document.createElement('div');
        errorMsg.className = 'grace-msg grace-msg-agent';
        errorMsg.innerHTML = '<p>I\'m having trouble connecting right now. Please try again in a moment.</p>';
        chatMessages?.appendChild(errorMsg);
      }

      chatMessages?.scrollTo(0, chatMessages.scrollHeight);
    }

    chatSend?.addEventListener('click', () => sendMessage(chatInput?.value || ''));
    chatInput?.addEventListener('keydown', (e: KeyboardEvent) => {
      if (e.key === 'Enter') sendMessage(chatInput?.value || '');
    });
  </script>

  <style>
    /* ============================================
       THE GRACE NETWORK — Homepage-specific styles
       Shared styles (nav, footer, buttons, forms, sections) in shared.css
       ============================================ */

    body { overflow-x: hidden; }

    /* Hero */
    .hero {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10rem 2rem 6rem;
    }

    .hero-content {
      max-width: 860px;
      text-align: center;
    }

    .hero-label {
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      color: var(--grace-purple);
      margin-bottom: 2rem;
      text-transform: uppercase;
    }

    .hero h1 {
      font-size: clamp(3rem, 8vw, 5.5rem);
      font-weight: 700;
      line-height: 1.08;
      margin-bottom: 2rem;
      letter-spacing: -0.025em;
    }

    .hero-line-1 {
      display: block;
      color: var(--grace-text);
    }

    .hero-line-2 {
      display: block;
      color: var(--grace-purple);
    }

    .hero-subtitle {
      font-size: 1.15rem;
      line-height: 1.75;
      color: var(--grace-text-secondary);
      max-width: 640px;
      margin: 0 auto 2.5rem;
    }

    .hero-tagline {
      font-size: 1rem;
      font-style: italic;
      color: var(--grace-purple-light);
      margin-top: -1rem;
      margin-bottom: 1.5rem;
    }

    .hero-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 4rem;
    }

    .hero-stats {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 3rem;
    }

    .stat { text-align: center; }

    .stat-number {
      display: block;
      font-size: 2rem;
      font-weight: 700;
      color: var(--grace-purple);
    }

    .stat-label {
      display: block;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
      color: var(--grace-text-muted);
      margin-top: 0.25rem;
    }

    /* Manifesto Strip — DISRUPTION 1: Pull-quote treatment */
    .manifesto-strip {
      background: var(--grace-purple-wash);
      padding: 5rem 2rem;
      border-top: 3px solid var(--grace-purple);
      border-bottom: 3px solid var(--grace-purple);
    }

    .manifesto-inner {
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
      position: relative;
    }

    .manifesto-mark {
      display: block;
      font-size: 8rem;
      line-height: 0.5;
      color: var(--grace-purple);
      opacity: 0.18;
      font-family: Georgia, 'Times New Roman', serif;
      font-weight: 700;
      margin-bottom: 1rem;
      user-select: none;
    }

    .manifesto-inner p {
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-style: italic;
      line-height: 1.65;
      color: var(--grace-text);
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    .manifesto-punchline {
      font-style: normal;
      font-weight: 700;
      color: var(--grace-purple);
      display: inline;
    }

    /* Platform */
    .platform {
      padding: 6rem 0;
      background: var(--grace-bg-alt);
    }

    .pillars-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
    }

    .pillar {
      background: var(--grace-surface);
      border: 1px solid var(--grace-border);
      border-radius: 12px;
      padding: 2.5rem;
      transition: border-color 0.2s, box-shadow 0.2s;
      position: relative;
    }

    .pillar:hover {
      border-color: var(--grace-purple-light);
      box-shadow: 0 2px 12px rgba(55, 48, 163, 0.06);
    }

    .pillar-capstone {
      background: var(--grace-purple-wash);
      border-color: rgba(55, 48, 163, 0.15);
    }

    .pillar-icon {
      width: 48px;
      height: 48px;
      margin-bottom: 1.5rem;
    }

    .pillar-num {
      position: absolute;
      top: 2rem;
      right: 2rem;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      color: var(--grace-text-muted);
    }

    .pillar h3 {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      color: var(--grace-text);
    }

    .pillar p {
      font-size: 0.95rem;
      line-height: 1.7;
      color: var(--grace-text-secondary);
    }

    /* Vision */
    .vision {
      padding: 6rem 0;
      background: var(--grace-bg-alt);
    }

    .vision-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
    }

    @media (max-width: 900px) {
      .vision-grid { grid-template-columns: 1fr; }
      .vision-graphic { order: -1; }
    }

    .vision-text h2 {
      font-size: 2.25rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      letter-spacing: -0.015em;
      color: var(--grace-text);
    }

    .vision-text p {
      font-size: 1rem;
      line-height: 1.75;
      color: var(--grace-text-secondary);
      margin-bottom: 1.25rem;
    }

    /* Vision Phases — DISRUPTION 3: Typographic counters */
    .vision-phases {
      margin-top: 2.5rem;
      display: flex;
      flex-direction: column;
      gap: 0;
      position: relative;
      padding-left: 0;
      border-top: 1px solid var(--grace-border);
    }

    .phase {
      display: flex;
      align-items: baseline;
      gap: 1.25rem;
      padding: 1.25rem 0;
      position: relative;
      border-bottom: 1px solid var(--grace-border);
      transition: background 0.2s ease;
    }

    .phase:hover {
      background: rgba(55, 48, 163, 0.03);
      padding-left: 0.5rem;
      margin-left: -0.5rem;
      padding-right: 0.5rem;
      margin-right: -0.5rem;
    }

    .phase-number {
      font-family: var(--font-mono);
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--grace-text-muted);
      flex-shrink: 0;
      letter-spacing: 0.05em;
      min-width: 1.75rem;
    }

    .phase-active .phase-number {
      color: var(--grace-purple);
      font-weight: 700;
    }

    .phase-content strong {
      display: block;
      font-size: 1rem;
      color: var(--grace-text);
      margin-bottom: 0.2rem;
      letter-spacing: -0.01em;
    }

    .phase-active .phase-content strong {
      color: var(--grace-purple);
    }

    .phase-content span {
      font-size: 0.85rem;
      color: var(--grace-text-muted);
    }

    .vision-graphic {
      display: flex;
      justify-content: center;
    }

    .network-svg {
      width: 100%;
      max-width: 360px;
    }

    /* Refusals — DISRUPTION 2: Typographic teeth */
    .refusals {
      padding: 6rem 0;
      background: var(--grace-text);
      color: #FFFFFF;
    }

    .refusals-header {
      text-align: left;
      margin-bottom: 4rem;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 2rem;
    }

    .refusals-header h2 {
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 700;
      line-height: 1.1;
      letter-spacing: -0.03em;
      color: #FFFFFF;
    }

    .refusals-emphasis {
      color: var(--grace-gold);
      font-style: italic;
    }

    .refusals-list {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .refusal {
      padding: 2rem 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .refusal:last-child {
      border-bottom: 1px solid rgba(255, 255, 255, 0.12);
    }

    .refusal-lead {
      font-size: clamp(1.25rem, 2.5vw, 1.6rem);
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: -0.01em;
      line-height: 1.3;
    }

    .refusal-body {
      font-size: 1.05rem;
      line-height: 1.7;
      color: rgba(255, 255, 255, 0.6);
    }

    /* Beliefs */
    .beliefs {
      padding: 6rem 0;
      background: var(--grace-bg-alt);
    }

    .beliefs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .belief {
      background: var(--grace-surface);
      border: 1px solid var(--grace-border);
      border-radius: 12px;
      padding: 2.5rem;
      border-left: 3px solid var(--grace-purple);
    }

    .belief-text {
      font-size: 1.02rem;
      line-height: 1.75;
      color: var(--grace-text);
      margin-bottom: 1rem;
    }

    .belief-label {
      font-size: 0.8rem;
      color: var(--grace-purple);
      font-weight: 600;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    /* Sign Section — DISRUPTION 4: Emotional climax */
    .sign {
      padding: 0 0 6rem;
      background: var(--grace-bg-alt);
      position: relative;
    }

    .sign-preamble {
      padding: 5rem 2rem;
      text-align: center;
      background: linear-gradient(
        180deg,
        var(--grace-purple-wash) 0%,
        var(--grace-bg-alt) 100%
      );
      border-top: 1px solid rgba(55, 48, 163, 0.12);
    }

    .sign-declaration {
      font-size: clamp(1.75rem, 4vw, 2.75rem);
      font-weight: 700;
      line-height: 1.25;
      letter-spacing: -0.025em;
      color: var(--grace-text);
      max-width: 700px;
      margin: 0 auto;
    }

    .sign-container {
      max-width: 600px;
      margin: 0 auto;
    }

    .sign-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .sign-header h2 {
      font-size: 2.25rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--grace-text);
    }

    .sign-header p {
      color: var(--grace-text-secondary);
      line-height: 1.75;
    }

    .sign-form {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    @media (max-width: 500px) {
      .form-row { grid-template-columns: 1fr; }
    }

    .optional {
      font-weight: 400;
      letter-spacing: 0;
      color: var(--grace-text-muted);
    }

    .form-check {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }

    .form-check input[type="checkbox"] {
      margin-top: 3px;
      accent-color: var(--grace-purple);
      width: 16px;
      height: 16px;
    }

    .form-check label {
      font-size: 0.9rem;
      color: var(--grace-text-secondary);
      line-height: 1.5;
    }

    .form-check a {
      color: var(--grace-purple);
      text-decoration: underline;
    }

    .form-note {
      font-size: 0.8rem;
      color: var(--grace-text-muted);
      text-align: center;
      margin-top: 0.5rem;
    }

    /* Sign Success */
    .sign-success {
      text-align: center;
      padding: 2rem 0;
    }

    .sign-success h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--grace-text);
    }

    .sign-success p {
      color: var(--grace-text-secondary);
      margin-bottom: 2rem;
      line-height: 1.75;
    }

    /* Toolkit CTA */
    .toolkit-cta {
      padding: 4rem 0;
      background: var(--grace-bg);
    }

    /* ============================================
       DEPTH TOGGLE — Attention Span Control
       ============================================ */

    .depth-toggle {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 200;
      display: flex;
      align-items: center;
      background: var(--grace-surface);
      border: 1px solid var(--grace-border);
      border-radius: 100px;
      padding: 4px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
    }

    .depth-option {
      position: relative;
      z-index: 1;
      background: none;
      border: none;
      padding: 0.5rem 1rem;
      font-family: inherit;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--grace-text-muted);
      cursor: pointer;
      border-radius: 100px;
      transition: color 0.2s;
      white-space: nowrap;
    }

    .depth-option:hover {
      color: var(--grace-text-secondary);
    }

    .depth-option.active {
      color: var(--grace-purple);
    }

    .depth-indicator {
      position: absolute;
      top: 4px;
      bottom: 4px;
      background: var(--grace-purple-wash);
      border-radius: 100px;
      transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    @media (max-width: 768px) {
      .hero {
        padding: 7rem 1.5rem 4rem;
      }

      .hero-stats {
        gap: 1.5rem;
        flex-wrap: wrap;
        justify-content: center;
      }

      .stat-number {
        font-size: 1.5rem;
      }

      .manifesto-inner p {
        font-size: 1.2rem;
      }

      .manifesto-mark {
        font-size: 5rem;
      }

      .refusals-header h2 {
        font-size: 2.25rem;
      }

      .refusal-lead {
        font-size: 1.15rem;
      }

      .sign-declaration {
        font-size: 1.5rem;
      }

      .sign-preamble {
        padding: 3rem 1.5rem;
      }

      .platform,
      .vision,
      .refusals,
      .beliefs,
      .sign {
        padding: 4rem 0;
      }

      .depth-toggle {
        bottom: 1rem;
        right: 1rem;
        left: 1rem;
        justify-content: center;
      }
    }

    /* ============================================
       DEPTH: TL;DR — Strip to essentials
       ============================================ */

    /* Hide standard-depth elements */
    :global(html[data-depth="tldr"]) .depth-standard {
      display: none !important;
    }

    /* Show TL;DR-only elements (hidden by default) */
    .depth-tldr-only {
      display: none;
    }
    :global(html[data-depth="tldr"]) .depth-tldr-only {
      display: block;
    }

    .hero-subtitle-short {
      font-size: 1.15rem;
      line-height: 1.75;
      color: var(--grace-text-secondary);
      max-width: 640px;
      margin: 0 auto 2.5rem;
    }

    /* TL;DR: Compact hero */
    :global(html[data-depth="tldr"]) .hero {
      padding: 8rem 2rem 4rem;
    }

    /* TL;DR: Compact pillar cards — no descriptions */
    :global(html[data-depth="tldr"]) .pillar p {
      display: none;
    }

    :global(html[data-depth="tldr"]) .pillar {
      padding: 1.5rem 2rem;
    }

    :global(html[data-depth="tldr"]) .pillar h3 {
      margin-bottom: 0;
    }

    :global(html[data-depth="tldr"]) .pillars-grid {
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.75rem;
    }

    :global(html[data-depth="tldr"]) .section-header {
      margin-bottom: 2rem;
    }

    /* TL;DR: Compact refusals */
    :global(html[data-depth="tldr"]) .refusals {
      padding: 3rem 0;
    }

    /* TL;DR: Show only 1 belief */
    :global(html[data-depth="tldr"]) .belief:nth-child(n+2) {
      display: none;
    }

    :global(html[data-depth="tldr"]) .beliefs-grid {
      grid-template-columns: 1fr;
      max-width: 640px;
      margin: 0 auto;
    }

    /* TL;DR: Compact sign section */
    :global(html[data-depth="tldr"]) .sign {
      padding: 0 0 4rem;
    }

    :global(html[data-depth="tldr"]) .sign-preamble {
      padding: 3rem 2rem;
    }

    /* TL;DR: Compact platform section */
    :global(html[data-depth="tldr"]) .platform {
      padding: 4rem 0;
    }

    /* TL;DR: Compact beliefs section */
    :global(html[data-depth="tldr"]) .beliefs {
      padding: 4rem 0;
    }

    /* TL;DR: Compact footer */
    :global(html[data-depth="tldr"]) .party-footer {
      padding: 2rem 0;
    }

    :global(html[data-depth="tldr"]) .footer-top {
      margin-bottom: 1rem;
    }

    /* ============================================
       DEPTH: DEEP DIVE — More breathing room, emphasis
       ============================================ */

    :global(html[data-depth="deep"]) .depth-tldr-only {
      display: none;
    }

    :global(html[data-depth="deep"]) .hero {
      padding: 12rem 2rem 8rem;
    }

    :global(html[data-depth="deep"]) .hero h1 {
      font-size: clamp(3.5rem, 9vw, 6.5rem);
      margin-bottom: 2.5rem;
    }

    :global(html[data-depth="deep"]) .hero-subtitle {
      font-size: 1.25rem;
      line-height: 1.85;
      max-width: 700px;
    }

    :global(html[data-depth="deep"]) .manifesto-strip {
      padding: 6rem 2rem;
    }

    :global(html[data-depth="deep"]) .manifesto-inner p {
      font-size: 2.25rem;
      line-height: 1.6;
    }

    :global(html[data-depth="deep"]) .manifesto-mark {
      font-size: 10rem;
    }

    :global(html[data-depth="deep"]) .refusals-header h2 {
      font-size: clamp(3rem, 7vw, 5rem);
    }

    :global(html[data-depth="deep"]) .refusal-lead {
      font-size: 1.8rem;
    }

    :global(html[data-depth="deep"]) .sign-declaration {
      font-size: clamp(2rem, 5vw, 3.25rem);
    }

    :global(html[data-depth="deep"]) .platform,
    :global(html[data-depth="deep"]) .vision,
    :global(html[data-depth="deep"]) .beliefs,
    :global(html[data-depth="deep"]) .refusals,
    :global(html[data-depth="deep"]) .sign {
      padding: 8rem 0;
    }

    :global(html[data-depth="deep"]) .pillar {
      padding: 3rem;
    }

    :global(html[data-depth="deep"]) .pillar p {
      font-size: 1rem;
      line-height: 1.8;
    }

    :global(html[data-depth="deep"]) .belief blockquote {
      font-size: 1.1rem;
      line-height: 1.85;
    }

    :global(html[data-depth="deep"]) .section-header h2 {
      font-size: clamp(2.25rem, 5vw, 3.25rem);
    }

    :global(html[data-depth="deep"]) .vision-text h2 {
      font-size: 2.75rem;
    }

    :global(html[data-depth="deep"]) .vision-text p {
      font-size: 1.1rem;
      line-height: 1.85;
    }

    :global(html[data-depth="deep"]) .hero-stats {
      gap: 4rem;
    }

    :global(html[data-depth="deep"]) .stat-number {
      font-size: 2.5rem;
    }

    /* ============================================
       SOCIAL PROOF — Avatar strip, counter, testimonials
       ============================================ */

    .social-proof {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .social-proof-avatars {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .sp-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .sp-avatar + .sp-avatar {
      margin-left: -8px;
    }

    .social-proof-counter {
      margin-top: 0.75rem;
      font-size: 1.1rem;
      color: var(--grace-text-secondary);
      letter-spacing: 0.01em;
    }

    .social-proof-counter strong {
      font-weight: 700;
      color: var(--grace-purple);
      font-size: 1.25rem;
    }

    .social-proof-testimonials {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-top: 1.5rem;
      text-align: left;
    }

    @media (max-width: 600px) {
      .social-proof-testimonials {
        grid-template-columns: 1fr;
      }
    }

    .sp-testimonial {
      background: var(--grace-surface);
      border: 1px solid var(--grace-border);
      border-radius: 8px;
      padding: 1.25rem 1.5rem;
      margin: 0;
    }

    .sp-quote {
      font-style: italic;
      font-size: 0.95rem;
      line-height: 1.65;
      color: var(--grace-text);
      margin: 0 0 0.75rem;
    }

    .sp-cite {
      display: block;
      font-style: normal;
      font-weight: 700;
      font-size: 0.8rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--grace-text-muted);
    }

    /* ============================================
       GRACE Chat Widget
       ============================================ */

    .grace-chat-widget {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      z-index: 1000;
    }

    .grace-chat-trigger {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--grace-purple);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(55, 48, 163, 0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .grace-chat-trigger:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 24px rgba(55, 48, 163, 0.4);
    }

    .grace-chat-panel {
      display: none;
      position: absolute;
      bottom: 70px;
      right: 0;
      width: 380px;
      max-height: 520px;
      background: var(--grace-surface);
      border: 1px solid var(--grace-border);
      border-radius: 16px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.12);
      flex-direction: column;
      overflow: hidden;
    }

    .grace-chat-panel.open {
      display: flex;
    }

    .grace-chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--grace-border);
      background: var(--grace-purple-wash);
    }

    .grace-chat-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--grace-purple);
    }

    .grace-chat-close {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--grace-text-muted);
      padding: 0.25rem;
    }

    .grace-chat-close:hover { color: var(--grace-text); }

    .grace-chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 1.25rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      max-height: 360px;
    }

    .grace-msg {
      max-width: 85%;
      padding: 0.75rem 1rem;
      border-radius: 12px;
      font-size: 0.9rem;
      line-height: 1.55;
    }

    .grace-msg p { margin: 0; }

    .grace-msg-agent {
      background: var(--grace-purple-wash);
      color: var(--grace-text);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    .grace-msg-user {
      background: var(--grace-purple);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .grace-msg-typing {
      background: var(--grace-purple-wash);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
      color: var(--grace-text-muted);
      font-style: italic;
    }

    .grace-chat-input-area {
      display: flex;
      gap: 0.5rem;
      padding: 0.75rem 1rem;
      border-top: 1px solid var(--grace-border);
      background: var(--grace-surface);
    }

    .grace-chat-input-area input {
      flex: 1;
      border: 1px solid var(--grace-border);
      border-radius: 8px;
      padding: 0.6rem 0.75rem;
      font-size: 0.9rem;
      font-family: var(--font-body);
      outline: none;
      transition: border-color 0.2s;
      background: var(--grace-bg);
    }

    .grace-chat-input-area input:focus {
      border-color: var(--grace-purple);
    }

    .grace-chat-input-area button {
      background: var(--grace-purple);
      color: white;
      border: none;
      border-radius: 8px;
      width: 38px;
      height: 38px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .grace-chat-input-area button:hover {
      background: var(--grace-purple-dim);
    }

    .grace-suggested-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .grace-suggested-action {
      background: white;
      border: 1px solid var(--grace-purple);
      color: var(--grace-purple);
      padding: 0.35rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .grace-suggested-action:hover {
      background: var(--grace-purple);
      color: white;
    }

    /* Move depth toggle up when chat widget is present */
    .depth-toggle {
      bottom: 5rem;
    }

    @media (max-width: 480px) {
      .grace-chat-panel {
        width: calc(100vw - 2rem);
        right: -0.5rem;
        bottom: 65px;
        max-height: 70vh;
      }
    }
  </style>

  <!-- GRACE Chat Widget -->
  <div class="grace-chat-widget" id="graceChat">
    <button class="grace-chat-trigger" id="graceChatTrigger" aria-label="Chat with GRACE">
      <svg width="28" height="28" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Mini constellation logo -->
        <line x1="60" y1="60" x2="60" y2="25" stroke="white" stroke-width="2" opacity="0.6"/>
        <line x1="60" y1="60" x2="90" y2="42" stroke="white" stroke-width="2" opacity="0.6"/>
        <line x1="60" y1="60" x2="90" y2="78" stroke="white" stroke-width="2" opacity="0.6"/>
        <line x1="60" y1="60" x2="60" y2="95" stroke="white" stroke-width="2" opacity="0.5"/>
        <line x1="60" y1="60" x2="30" y2="78" stroke="white" stroke-width="2" opacity="0.5"/>
        <line x1="60" y1="60" x2="30" y2="42" stroke="white" stroke-width="2" opacity="0.6"/>
        <circle cx="60" cy="25" r="5" fill="white" opacity="0.8"/>
        <circle cx="90" cy="42" r="5" fill="white" opacity="0.8"/>
        <circle cx="90" cy="78" r="5" fill="white" opacity="0.7"/>
        <circle cx="60" cy="95" r="5" fill="white" opacity="0.7"/>
        <circle cx="30" cy="78" r="5" fill="white" opacity="0.7"/>
        <circle cx="30" cy="42" r="5" fill="white" opacity="0.8"/>
        <circle cx="60" cy="60" r="10" fill="white"/>
      </svg>
    </button>
    <div class="grace-chat-panel" id="graceChatPanel">
      <div class="grace-chat-header">
        <div class="grace-chat-title">
          <svg width="20" height="20" viewBox="0 0 120 120" fill="none">
            <circle cx="60" cy="60" r="8" fill="#3730A3"/>
            <circle cx="60" cy="25" r="4" fill="#3730A3" opacity="0.6"/>
            <circle cx="90" cy="42" r="4" fill="#3730A3" opacity="0.6"/>
            <circle cx="90" cy="78" r="4" fill="#6366F1" opacity="0.5"/>
            <circle cx="60" cy="95" r="4" fill="#B45309" opacity="0.5"/>
            <circle cx="30" cy="78" r="4" fill="#B45309" opacity="0.5"/>
            <circle cx="30" cy="42" r="4" fill="#6366F1" opacity="0.5"/>
          </svg>
          <span>GRACE</span>
        </div>
        <button class="grace-chat-close" id="graceChatClose" aria-label="Close chat">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="grace-chat-messages" id="graceChatMessages">
        <div class="grace-msg grace-msg-agent">
          <p>Hello! I'm GRACE — the organizing intelligence of The Grace Network. I can help you understand our principles, find a workstream to contribute to, or answer questions about the movement. What brings you here?</p>
        </div>
      </div>
      <div class="grace-chat-input-area">
        <input type="text" id="graceChatInput" placeholder="Ask GRACE anything..." autocomplete="off" />
        <button id="graceChatSend" aria-label="Send message">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
        </button>
      </div>
    </div>
  </div>
</Layout>
